#chmod関数を使って指定したファイルの読み込み、書込、実行権限をそれぞれ変更する

#ファイル権限の変更
#chmod.pl

print "ファイル名を指定してください＞";
$file = <STDIN>;
chomp($file);

#初期状態を表示
print "初期状態:\n";
&fileinfo();

print "権限値を100にします\n";
chmod(0100, $file);
&fileinfo();

print "権限値を200にします。\n";
chmod(0200, $file);
&fileinfo();

print "権限値を400にします。\n";
chmod(0400, $file);
&fileinfo();

print "権限値を600にします。\n";
chmod(0600, $file);
&fileinfo();

print "権限値を700にします。\n";
chmod(0700, $file);
&fileinfo();

sub fileinfo{
    #ファイルの情報を表示
    print "\t$fileは読み込めます\n" if (-r $file);
    print "\t$fileは書き込めます\n" if (-w $file);
    print "\t$fileは実行できます\n" if (-x $file);
}
